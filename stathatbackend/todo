- use WaitGroup and correctly wait for sendBatch goroutines on Close
- limit number of sendBatch goroutines
- total request timeout
